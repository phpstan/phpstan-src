<?php

namespace Bug7933;

class CountryIso3Enum
{
	public const ABW = 'ABW';
	public const AFG = 'AFG';
	public const AGO = 'AGO';
	public const AIA = 'AIA';
	public const ALA = 'ALA';
	public const ALB = 'ALB';
	public const AND = 'AND';
	public const ANT = 'ANT';
	public const ARE = 'ARE';
	public const ARG = 'ARG';
	public const ARM = 'ARM';
	public const ASC = 'ASC';
	public const ASM = 'ASM';
	public const ATA = 'ATA';
	public const ATF = 'ATF';
	public const ATG = 'ATG';
	public const AUS = 'AUS';
	public const AUT = 'AUT';
	public const AZE = 'AZE';
	public const BDI = 'BDI';
	public const BEL = 'BEL';
	public const BEN = 'BEN';
	public const BES = 'BES';
	public const BFA = 'BFA';
	public const BGD = 'BGD';
	public const BGR = 'BGR';
	public const BHR = 'BHR';
	public const BHS = 'BHS';
	public const BIH = 'BIH';
	public const BLM = 'BLM';
	public const BLR = 'BLR';
	public const BLZ = 'BLZ';
	public const BMU = 'BMU';
	public const BOL = 'BOL';
	public const BRA = 'BRA';
	public const BRB = 'BRB';
	public const BRN = 'BRN';
	public const BTN = 'BTN';
	public const BUR = 'BUR';
	public const BVT = 'BVT';
	public const BWA = 'BWA';
	public const CAF = 'CAF';
	public const CAN = 'CAN';
	public const CCK = 'CCK';
	public const CEE = 'CEE';
	public const CHE = 'CHE';
	public const CHL = 'CHL';
	public const CHN = 'CHN';
	public const CIV = 'CIV';
	public const CMR = 'CMR';
	public const COD = 'COD';
	public const COG = 'COG';
	public const COK = 'COK';
	public const COL = 'COL';
	public const COM = 'COM';
	public const CPT = 'CPT';
	public const CPV = 'CPV';
	public const CRI = 'CRI';
	public const CUB = 'CUB';
	public const CUW = 'CUW';
	public const CXR = 'CXR';
	public const CYM = 'CYM';
	public const CYP = 'CYP';
	public const CZE = 'CZE';
	public const DEU = 'DEU';
	public const DGA = 'DGA';
	public const DJI = 'DJI';
	public const DMA = 'DMA';
	public const DNK = 'DNK';
	public const DOM = 'DOM';
	public const DZA = 'DZA';
	public const ECU = 'ECU';
	public const EGY = 'EGY';
	public const ERI = 'ERI';
	public const ESH = 'ESH';
	public const ESP = 'ESP';
	public const EST = 'EST';
	public const ETH = 'ETH';
	public const FIN = 'FIN';
	public const FJI = 'FJI';
	public const FLK = 'FLK';
	public const FRA = 'FRA';
	public const FRO = 'FRO';
	public const FSM = 'FSM';
	public const FXX = 'FXX';
	public const GAB = 'GAB';
	public const GBR = 'GBR';
	public const GEO = 'GEO';
	public const GGY = 'GGY';
	public const GHA = 'GHA';
	public const GIB = 'GIB';
	public const GIN = 'GIN';
	public const GLP = 'GLP';
	public const GMB = 'GMB';
	public const GNB = 'GNB';
	public const GNQ = 'GNQ';
	public const GRC = 'GRC';
	public const GRD = 'GRD';
	public const GRL = 'GRL';
	public const GTM = 'GTM';
	public const GUF = 'GUF';
	public const GUM = 'GUM';
	public const GUY = 'GUY';
	public const HKG = 'HKG';
	public const HMD = 'HMD';
	public const HND = 'HND';
	public const HRV = 'HRV';
	public const HTI = 'HTI';
	public const HUN = 'HUN';
	public const IDN = 'IDN';
	public const IMN = 'IMN';
	public const IND = 'IND';
	public const IOT = 'IOT';
	public const IRL = 'IRL';
	public const IRN = 'IRN';
	public const IRQ = 'IRQ';
	public const ISL = 'ISL';
	public const ISR = 'ISR';
	public const ITA = 'ITA';
	public const JAM = 'JAM';
	public const JEY = 'JEY';
	public const JOR = 'JOR';
	public const JPN = 'JPN';
	public const KAZ = 'KAZ';
	public const KEN = 'KEN';
	public const KGZ = 'KGZ';
	public const KHM = 'KHM';
	public const KIR = 'KIR';
	public const KNA = 'KNA';
	public const KOR = 'KOR';
	public const KWT = 'KWT';
	public const LAO = 'LAO';
	public const LBN = 'LBN';
	public const LBR = 'LBR';
	public const LBY = 'LBY';
	public const LCA = 'LCA';
	public const LIE = 'LIE';
	public const LKA = 'LKA';
	public const LSO = 'LSO';
	public const LTU = 'LTU';
	public const LUX = 'LUX';
	public const LVA = 'LVA';
	public const MAC = 'MAC';
	public const MAF = 'MAF';
	public const MAR = 'MAR';
	public const MCO = 'MCO';
	public const MDA = 'MDA';
	public const MDG = 'MDG';
	public const MDV = 'MDV';
	public const MEX = 'MEX';
	public const MHL = 'MHL';
	public const MKD = 'MKD';
	public const MLI = 'MLI';
	public const MLT = 'MLT';
	public const MMR = 'MMR';
	public const MNE = 'MNE';
	public const MNG = 'MNG';
	public const MNP = 'MNP';
	public const MOZ = 'MOZ';
	public const MRT = 'MRT';
	public const MSR = 'MSR';
	public const MTQ = 'MTQ';
	public const MUS = 'MUS';
	public const MWI = 'MWI';
	public const MYS = 'MYS';
	public const MYT = 'MYT';
	public const NAM = 'NAM';
	public const NCL = 'NCL';
	public const NER = 'NER';
	public const NFK = 'NFK';
	public const NGA = 'NGA';
	public const NIC = 'NIC';
	public const NIU = 'NIU';
	public const NLD = 'NLD';
	public const NOR = 'NOR';
	public const NPL = 'NPL';
	public const NRU = 'NRU';
	public const NTZ = 'NTZ';
	public const NZL = 'NZL';
	public const OMN = 'OMN';
	public const PAK = 'PAK';
	public const PAN = 'PAN';
	public const PCN = 'PCN';
	public const PER = 'PER';
	public const PHL = 'PHL';
	public const PLW = 'PLW';
	public const PNG = 'PNG';
	public const POL = 'POL';
	public const PRI = 'PRI';
	public const PRK = 'PRK';
	public const PRT = 'PRT';
	public const PRY = 'PRY';
	public const PSE = 'PSE';
	public const PYF = 'PYF';
	public const QAT = 'QAT';
	public const REU = 'REU';
	public const ROU = 'ROU';
	public const RUS = 'RUS';
	public const RWA = 'RWA';
	public const SAU = 'SAU';
	public const SCG = 'SCG';
	public const SDN = 'SDN';
	public const SEN = 'SEN';
	public const SGP = 'SGP';
	public const SGS = 'SGS';
	public const SHN = 'SHN';
	public const SJM = 'SJM';
	public const SLB = 'SLB';
	public const SLE = 'SLE';
	public const SLV = 'SLV';
	public const SMR = 'SMR';
	public const SOM = 'SOM';
	public const SPM = 'SPM';
	public const SRB = 'SRB';
	public const SSD = 'SSD';
	public const STP = 'STP';
	public const SUN = 'SUN';
	public const SUR = 'SUR';
	public const SVK = 'SVK';
	public const SVN = 'SVN';
	public const SWE = 'SWE';
	public const SWZ = 'SWZ';
	public const SXM = 'SXM';
	public const SYC = 'SYC';
	public const SYR = 'SYR';
	public const TAA = 'TAA';
	public const TCA = 'TCA';
	public const TCD = 'TCD';
	public const TGO = 'TGO';
	public const THA = 'THA';
	public const TJK = 'TJK';
	public const TKL = 'TKL';
	public const TKM = 'TKM';
	public const TLS = 'TLS';
	public const TON = 'TON';
	public const TTO = 'TTO';
	public const TUN = 'TUN';
	public const TUR = 'TUR';
	public const TUV = 'TUV';
	public const TWN = 'TWN';
	public const TZA = 'TZA';
	public const UGA = 'UGA';
	public const UKR = 'UKR';
	public const UMI = 'UMI';
	public const URY = 'URY';
	public const USA = 'USA';
	public const UZB = 'UZB';
	public const VAT = 'VAT';
	public const VCT = 'VCT';
	public const VEN = 'VEN';
	public const VGB = 'VGB';
	public const VIR = 'VIR';
	public const VNM = 'VNM';
	public const VUT = 'VUT';
	public const WLF = 'WLF';
	public const WSM = 'WSM';
	public const XXK = 'XXK';
	public const YEM = 'YEM';
	public const YUG = 'YUG';
	public const ZAF = 'ZAF';
	public const ZAR = 'ZAR';
	public const ZMB = 'ZMB';
	public const ZWE = 'ZWE';
}

class CountryMapper
{
	public static function mapCountry(?string $country): ?string
	{
		if ($country === null) {
			return null;
		}
		if (strlen($country) === 2) {
			if (array_key_exists($country, self::$countryISOMapping)) {
				return self::$countryISOMapping[$country];
			}
		} elseif (strlen($country) === 3) {
			$reverseResolve = array_flip(self::$countryISOMapping);
			if (array_key_exists($country, $reverseResolve)) {
				return $reverseResolve[$country];
			}
		}
		return null;
	}

	/**
	 * @phpstan-param CountryIso3Enum::*|string|null $country
	 */
	public static function mapCountry3To2(?string $country): ?string
	{
		if ($country === null || strlen($country) === 2) {
			return $country;
		}
		if (strlen($country) === 3) {
			$reverseResolve = array_flip(self::$countryISOMapping);
			$reverseResolve[CountryIso3Enum::GBR] = 'GB';
			if (array_key_exists($country, $reverseResolve)) {
				return $reverseResolve[$country];
			}
		}
		return null;
	}

	/**
	 * @phpstan-return CountryIso3Enum::*|null
	 */
	public static function mapCountry2To3(?string $country): ?string
	{
		if ($country === null || strlen($country) === 3) {
			/** @phpstan-var CountryIso3Enum::*|null $country */
			return $country;
		}
		return self::$countryISOMapping[$country] ?? null;
	}

	/**
	 * @phpstan-var array<string,CountryIso3Enum::*>
	 */
	private static array $countryISOMapping = [
		'AC' => CountryIso3Enum::ASC,
		'AD' => CountryIso3Enum::AND,
		'AE' => CountryIso3Enum::ARE,
		'AF' => CountryIso3Enum::AFG,
		'AG' => CountryIso3Enum::ATG,
		'AI' => CountryIso3Enum::AIA,
		'AL' => CountryIso3Enum::ALB,
		'AM' => CountryIso3Enum::ARM,
		'AN' => CountryIso3Enum::ANT,
		'AO' => CountryIso3Enum::AGO,
		'AQ' => CountryIso3Enum::ATA,
		'AR' => CountryIso3Enum::ARG,
		'AS' => CountryIso3Enum::ASM,
		'AT' => CountryIso3Enum::AUT,
		'AU' => CountryIso3Enum::AUS,
		'AW' => CountryIso3Enum::ABW,
		'AX' => CountryIso3Enum::ALA,
		'AZ' => CountryIso3Enum::AZE,
		'BA' => CountryIso3Enum::BIH,
		'BB' => CountryIso3Enum::BRB,
		'BD' => CountryIso3Enum::BGD,
		'BE' => CountryIso3Enum::BEL,
		'BF' => CountryIso3Enum::BFA,
		'BG' => CountryIso3Enum::BGR,
		'BH' => CountryIso3Enum::BHR,
		'BI' => CountryIso3Enum::BDI,
		'BJ' => CountryIso3Enum::BEN,
		'BL' => CountryIso3Enum::BLM,
		'BM' => CountryIso3Enum::BMU,
		'BN' => CountryIso3Enum::BRN,
		'BO' => CountryIso3Enum::BOL,
		'BQ' => CountryIso3Enum::BES,
		'BR' => CountryIso3Enum::BRA,
		'BS' => CountryIso3Enum::BHS,
		'BT' => CountryIso3Enum::BTN,
		'BU' => CountryIso3Enum::BUR,
		'BV' => CountryIso3Enum::BVT,
		'BW' => CountryIso3Enum::BWA,
		'BY' => CountryIso3Enum::BLR,
		'BZ' => CountryIso3Enum::BLZ,
		'CA' => CountryIso3Enum::CAN,
		'CC' => CountryIso3Enum::CCK,
		'CD' => CountryIso3Enum::COD,
		'CE' => CountryIso3Enum::CEE,
		'CF' => CountryIso3Enum::CAF,
		'CG' => CountryIso3Enum::COG,
		'CH' => CountryIso3Enum::CHE,
		'CI' => CountryIso3Enum::CIV,
		'CK' => CountryIso3Enum::COK,
		'CL' => CountryIso3Enum::CHL,
		'CM' => CountryIso3Enum::CMR,
		'CN' => CountryIso3Enum::CHN,
		'CO' => CountryIso3Enum::COL,
		'CP' => CountryIso3Enum::CPT,
		'CR' => CountryIso3Enum::CRI,
		'CS' => CountryIso3Enum::SCG,
		'CU' => CountryIso3Enum::CUB,
		'CV' => CountryIso3Enum::CPV,
		'CW' => CountryIso3Enum::CUW,
		'CX' => CountryIso3Enum::CXR,
		'CY' => CountryIso3Enum::CYP,
		'CZ' => CountryIso3Enum::CZE,
		'DE' => CountryIso3Enum::DEU,
		'DG' => CountryIso3Enum::DGA,
		'DJ' => CountryIso3Enum::DJI,
		'DK' => CountryIso3Enum::DNK,
		'DM' => CountryIso3Enum::DMA,
		'DO' => CountryIso3Enum::DOM,
		'DZ' => CountryIso3Enum::DZA,
		'EC' => CountryIso3Enum::ECU,
		'EE' => CountryIso3Enum::EST,
		'EG' => CountryIso3Enum::EGY,
		'EH' => CountryIso3Enum::ESH,
		'ER' => CountryIso3Enum::ERI,
		'ES' => CountryIso3Enum::ESP,
		'ET' => CountryIso3Enum::ETH,
		'FI' => CountryIso3Enum::FIN,
		'FJ' => CountryIso3Enum::FJI,
		'FK' => CountryIso3Enum::FLK,
		'FM' => CountryIso3Enum::FSM,
		'FO' => CountryIso3Enum::FRO,
		'FR' => CountryIso3Enum::FRA,
		'FX' => CountryIso3Enum::FXX,
		'GA' => CountryIso3Enum::GAB,
		'GB' => CountryIso3Enum::GBR,
		'GD' => CountryIso3Enum::GRD,
		'GE' => CountryIso3Enum::GEO,
		'GF' => CountryIso3Enum::GUF,
		'GG' => CountryIso3Enum::GGY,
		'GH' => CountryIso3Enum::GHA,
		'GI' => CountryIso3Enum::GIB,
		'GL' => CountryIso3Enum::GRL,
		'GM' => CountryIso3Enum::GMB,
		'GN' => CountryIso3Enum::GIN,
		'GP' => CountryIso3Enum::GLP,
		'GQ' => CountryIso3Enum::GNQ,
		'GR' => CountryIso3Enum::GRC,
		'GS' => CountryIso3Enum::SGS,
		'GT' => CountryIso3Enum::GTM,
		'GU' => CountryIso3Enum::GUM,
		'GW' => CountryIso3Enum::GNB,
		'GY' => CountryIso3Enum::GUY,
		'HK' => CountryIso3Enum::HKG,
		'HM' => CountryIso3Enum::HMD,
		'HN' => CountryIso3Enum::HND,
		'HR' => CountryIso3Enum::HRV,
		'HT' => CountryIso3Enum::HTI,
		'HU' => CountryIso3Enum::HUN,
		'ID' => CountryIso3Enum::IDN,
		'IE' => CountryIso3Enum::IRL,
		'IL' => CountryIso3Enum::ISR,
		'IM' => CountryIso3Enum::IMN,
		'IN' => CountryIso3Enum::IND,
		'IO' => CountryIso3Enum::IOT,
		'IQ' => CountryIso3Enum::IRQ,
		'IR' => CountryIso3Enum::IRN,
		'IS' => CountryIso3Enum::ISL,
		'IT' => CountryIso3Enum::ITA,
		'JE' => CountryIso3Enum::JEY,
		'JM' => CountryIso3Enum::JAM,
		'JO' => CountryIso3Enum::JOR,
		'JP' => CountryIso3Enum::JPN,
		'KE' => CountryIso3Enum::KEN,
		'KG' => CountryIso3Enum::KGZ,
		'KH' => CountryIso3Enum::KHM,
		'KI' => CountryIso3Enum::KIR,
		'KM' => CountryIso3Enum::COM,
		'KN' => CountryIso3Enum::KNA,
		'KP' => CountryIso3Enum::PRK,
		'KR' => CountryIso3Enum::KOR,
		'KW' => CountryIso3Enum::KWT,
		'KY' => CountryIso3Enum::CYM,
		'KZ' => CountryIso3Enum::KAZ,
		'LA' => CountryIso3Enum::LAO,
		'LB' => CountryIso3Enum::LBN,
		'LC' => CountryIso3Enum::LCA,
		'LI' => CountryIso3Enum::LIE,
		'LK' => CountryIso3Enum::LKA,
		'LR' => CountryIso3Enum::LBR,
		'LS' => CountryIso3Enum::LSO,
		'LT' => CountryIso3Enum::LTU,
		'LU' => CountryIso3Enum::LUX,
		'LV' => CountryIso3Enum::LVA,
		'LY' => CountryIso3Enum::LBY,
		'MA' => CountryIso3Enum::MAR,
		'MC' => CountryIso3Enum::MCO,
		'MD' => CountryIso3Enum::MDA,
		'ME' => CountryIso3Enum::MNE,
		'MF' => CountryIso3Enum::MAF,
		'MG' => CountryIso3Enum::MDG,
		'MH' => CountryIso3Enum::MHL,
		'MK' => CountryIso3Enum::MKD,
		'ML' => CountryIso3Enum::MLI,
		'MM' => CountryIso3Enum::MMR,
		'MN' => CountryIso3Enum::MNG,
		'MO' => CountryIso3Enum::MAC,
		'MP' => CountryIso3Enum::MNP,
		'MQ' => CountryIso3Enum::MTQ,
		'MR' => CountryIso3Enum::MRT,
		'MS' => CountryIso3Enum::MSR,
		'MT' => CountryIso3Enum::MLT,
		'MU' => CountryIso3Enum::MUS,
		'MV' => CountryIso3Enum::MDV,
		'MW' => CountryIso3Enum::MWI,
		'MX' => CountryIso3Enum::MEX,
		'MY' => CountryIso3Enum::MYS,
		'MZ' => CountryIso3Enum::MOZ,
		'NA' => CountryIso3Enum::NAM,
		'NC' => CountryIso3Enum::NCL,
		'NE' => CountryIso3Enum::NER,
		'NF' => CountryIso3Enum::NFK,
		'NG' => CountryIso3Enum::NGA,
		'NI' => CountryIso3Enum::NIC,
		'NL' => CountryIso3Enum::NLD,
		'NO' => CountryIso3Enum::NOR,
		'NP' => CountryIso3Enum::NPL,
		'NR' => CountryIso3Enum::NRU,
		'NT' => CountryIso3Enum::NTZ,
		'NU' => CountryIso3Enum::NIU,
		'NZ' => CountryIso3Enum::NZL,
		'OM' => CountryIso3Enum::OMN,
		'PA' => CountryIso3Enum::PAN,
		'PE' => CountryIso3Enum::PER,
		'PF' => CountryIso3Enum::PYF,
		'PG' => CountryIso3Enum::PNG,
		'PH' => CountryIso3Enum::PHL,
		'PK' => CountryIso3Enum::PAK,
		'PL' => CountryIso3Enum::POL,
		'PM' => CountryIso3Enum::SPM,
		'PN' => CountryIso3Enum::PCN,
		'PR' => CountryIso3Enum::PRI,
		'PS' => CountryIso3Enum::PSE,
		'PT' => CountryIso3Enum::PRT,
		'PW' => CountryIso3Enum::PLW,
		'PY' => CountryIso3Enum::PRY,
		'QA' => CountryIso3Enum::QAT,
		'RE' => CountryIso3Enum::REU,
		'RO' => CountryIso3Enum::ROU,
		'RS' => CountryIso3Enum::SRB,
		'RU' => CountryIso3Enum::RUS,
		'RW' => CountryIso3Enum::RWA,
		'SA' => CountryIso3Enum::SAU,
		'SB' => CountryIso3Enum::SLB,
		'SC' => CountryIso3Enum::SYC,
		'SD' => CountryIso3Enum::SDN,
		'SE' => CountryIso3Enum::SWE,
		'SG' => CountryIso3Enum::SGP,
		'SH' => CountryIso3Enum::SHN,
		'SI' => CountryIso3Enum::SVN,
		'SJ' => CountryIso3Enum::SJM,
		'SK' => CountryIso3Enum::SVK,
		'SL' => CountryIso3Enum::SLE,
		'SM' => CountryIso3Enum::SMR,
		'SN' => CountryIso3Enum::SEN,
		'SO' => CountryIso3Enum::SOM,
		'SR' => CountryIso3Enum::SUR,
		'SS' => CountryIso3Enum::SSD,
		'ST' => CountryIso3Enum::STP,
		'SU' => CountryIso3Enum::SUN,
		'SV' => CountryIso3Enum::SLV,
		'SX' => CountryIso3Enum::SXM,
		'SY' => CountryIso3Enum::SYR,
		'SZ' => CountryIso3Enum::SWZ,
		'TA' => CountryIso3Enum::TAA,
		'TC' => CountryIso3Enum::TCA,
		'TD' => CountryIso3Enum::TCD,
		'TF' => CountryIso3Enum::ATF,
		'TG' => CountryIso3Enum::TGO,
		'TH' => CountryIso3Enum::THA,
		'TJ' => CountryIso3Enum::TJK,
		'TK' => CountryIso3Enum::TKL,
		'TL' => CountryIso3Enum::TLS,
		'TM' => CountryIso3Enum::TKM,
		'TN' => CountryIso3Enum::TUN,
		'TO' => CountryIso3Enum::TON,
		'TR' => CountryIso3Enum::TUR,
		'TT' => CountryIso3Enum::TTO,
		'TV' => CountryIso3Enum::TUV,
		'TW' => CountryIso3Enum::TWN,
		'TZ' => CountryIso3Enum::TZA,
		'UA' => CountryIso3Enum::UKR,
		'UG' => CountryIso3Enum::UGA,
		'UK' => CountryIso3Enum::GBR,
		'UM' => CountryIso3Enum::UMI,
		'US' => CountryIso3Enum::USA,
		'UY' => CountryIso3Enum::URY,
		'UZ' => CountryIso3Enum::UZB,
		'VA' => CountryIso3Enum::VAT,
		'VC' => CountryIso3Enum::VCT,
		'VE' => CountryIso3Enum::VEN,
		'VG' => CountryIso3Enum::VGB,
		'VI' => CountryIso3Enum::VIR,
		'VN' => CountryIso3Enum::VNM,
		'VU' => CountryIso3Enum::VUT,
		'WF' => CountryIso3Enum::WLF,
		'WS' => CountryIso3Enum::WSM,
		'XK' => CountryIso3Enum::XXK,
		'YE' => CountryIso3Enum::YEM,
		'YT' => CountryIso3Enum::MYT,
		'YU' => CountryIso3Enum::YUG,
		'ZA' => CountryIso3Enum::ZAF,
		'ZM' => CountryIso3Enum::ZMB,
		'ZR' => CountryIso3Enum::ZAR,
		'ZW' => CountryIso3Enum::ZWE,
	];
}

class EnumValueMapper
{

	/**
	 * @return array<string,MyEnum::*>
	 */
	public function getMap(): array
	{
		return self::$map;
	}

	/** @phpstan-var array<string,MyEnum::*> */
	private static $map = [
		'foo3' => MyEnum::VALUE_1,
		'foo2' => MyEnum::VALUE_2,
		'foo1' => MyEnum::VALUE_3,
	];
}

class MyEnum
{
	public const VALUE_1 = 'value1';
	public const VALUE_2 = 'value2';
	public const VALUE_3 = 'value3';
}
